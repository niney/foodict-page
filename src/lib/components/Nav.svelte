<script>
  import { isNavScrolled, activeSection, isMobileMenuOpen, navigateTo, toggleMobileMenu } from '../stores/app.js'
</script>

<nav class="nav" class:scrolled={$isNavScrolled}>
  <div class="nav-container">
    <button type="button" class="nav-logo" on:click={() => navigateTo('home')}>
      <div class="nav-logo-icon">ğŸ²</div>
      <span class="nav-logo-text">ë§›</span>
    </button>

    <div class="nav-links">
      <button
        class="nav-link"
        class:active={$activeSection === 'home'}
        on:click={() => navigateTo('home')}
      >í™ˆ</button>
      <button
        class="nav-link"
        class:active={$activeSection === 'today'}
        on:click={() => navigateTo('today')}
      >ì˜¤ëŠ˜ì˜ ì¶”ì²œ</button>
      <button
        class="nav-link"
        class:active={$activeSection === 'chef'}
        on:click={() => navigateTo('chef')}
      >ì…°í”„ ë ˆì‹œí”¼</button>
    </div>

    <div class="nav-actions">
      <button class="nav-btn" aria-label="ê²€ìƒ‰">
        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
      </button>
      <button class="nav-btn mobile-menu-btn" on:click={toggleMobileMenu} aria-label="ë©”ë‰´">
        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" class:open={$isMobileMenuOpen}>
    <button
      class="mobile-menu-link"
      class:active={$activeSection === 'home'}
      on:click={() => navigateTo('home')}
    >
      <span>í™ˆ</span>
      <span class="mobile-menu-link-en">Home</span>
    </button>
    <button
      class="mobile-menu-link"
      class:active={$activeSection === 'today'}
      on:click={() => navigateTo('today')}
    >
      <span>ì˜¤ëŠ˜ì˜ ì¶”ì²œ</span>
      <span class="mobile-menu-link-en">Today</span>
    </button>
    <button
      class="mobile-menu-link"
      class:active={$activeSection === 'chef'}
      on:click={() => navigateTo('chef')}
    >
      <span>ì…°í”„ ë ˆì‹œí”¼</span>
      <span class="mobile-menu-link-en">Chef</span>
    </button>
  </div>
</nav>
